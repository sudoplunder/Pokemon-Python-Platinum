{ "$schema":"https://json-schema.org/draft/2020-12/schema", "title":"Platinum Event", "type":"object",
  "required":["id","category","triggers","script"],
  "properties":{
    "id":{"type":"string","pattern":"^[a-z0-9_.-]+$"},
    "category":{"type":"string","enum":["main","gym","galactic","rival","system","optional","legend"]},
    "description":{"type":"string"},
    "phase":{"type":"integer","minimum":0},
    "prerequisites":{"type":"array","items":{"type":"string"},"uniqueItems":true},
    "triggers":{"type":"array","minItems":1,"items":{"type":"object","required":["type"],
      "properties":{"type":{"type":"string"},"location":{"type":"string"},"npc_id":{"type":"string"},
        "group_id":{"type":"string"},"map":{"type":"string"},"tile":{"type":"array","items":{"type":"integer"},"minItems":2,"maxItems":2},
        "name":{"type":"string"}}, "additionalProperties":true}},
    "once":{"type":"boolean","default":true},
    "set_flags":{"type":"array","items":{"type":"string"},"uniqueItems":true},
    "clear_flags":{"type":"array","items":{"type":"string"},"uniqueItems":true},
    "reward":{"type":"object"},
    "script":{"type":"array","items":{"type":"object","required":["cmd"],"properties":{"cmd":{"type":"string"}},"additionalProperties":true}},
    "next_hints":{"type":"array","items":{"type":"object","required":["text_id"],
      "properties":{"text_id":{"type":"string"},"conditions":{"type":"array","items":{"type":"string"}}}}}
  },
  "additionalProperties":false }
